<mat-checkbox
      [checked]="allChecked"

      (change)="setAll($event.checked)">
        {{itemList.name}}
</mat-checkbox>
<mat-list>

  <mat-list-item *ngFor="let item of itemList.items; let i=index">
    <mat-checkbox
        [checked]="item.selected"
         (change)="updateAllComplete(i, !item.selected)">
             {{item.name}}
    </mat-checkbox>
  </mat-list-item>
</mat-list>
<p *ngFor="let item of itemList.items">
  {{item.selected}}
</p>
<p>
  {{allChecked}}
</p>
